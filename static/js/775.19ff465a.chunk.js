"use strict";(self.webpackChunkedu_core_dev=self.webpackChunkedu_core_dev||[]).push([[775,842],{7835:(e,n,s)=>{s.r(n),s.d(n,{default:()=>d});var a=s(5043),l=s(4600),t=s(2999),o=s.n(t),u=s(579);const d=function(){return(0,a.useEffect)((()=>{o().highlightAll()}),[]),(0,u.jsxs)("div",{style:{margin:50},children:[(0,u.jsx)(l.default,{step:"2",code:"cd /opt/splunk/etc/apps/buttercup",language:"language-bash",lines:""}),(0,u.jsx)(l.default,{step:"3",code:"nano bin/bcgEndpoints.py",language:"language-bash",lines:""}),(0,u.jsx)(l.default,{step:"4",code:"from splunk.persistconn.application import PersistentServerConnectionApplication\nimport json\n\nclass Echo(PersistentServerConnectionApplication):\n    def __init__(self, _command_line, _command_arg):\n        super(PersistentServerConnectionApplication, self).__init__()\n\n    def handle(self, in_bytes):\n        request = json.loads(in_bytes)    \n        payload = json.dumps(request)\n        return {\n            'payload': payload,\n            'status': 200\n        }",language:"language-python",lines:""}),(0,u.jsx)(l.default,{step:"8",code:"nano local/restmap.conf",language:"language-bash",lines:""}),(0,u.jsx)(l.default,{step:"9",code:"[script:bcg_echo]\nmatch = /bcg/echo\nscript = bcgEndpoints.py\nscripttype = persist\nhandler = bcgEndpoints.Echo\npython.version = python3",language:"language-solution-file",lines:""}),(0,u.jsx)(l.default,{step:"13",code:"nano local/web.conf",language:"language-bash",lines:""}),(0,u.jsx)(l.default,{step:"14",code:"[expose:bcg_echo]\nmethods = GET,POST\npattern = /bcg/echo",language:"language-solution-file",lines:""}),(0,u.jsx)(l.default,{step:"16",code:"/opt/splunk/bin/splunk restart",language:"language-bash",lines:""}),(0,u.jsx)(l.default,{step:"17",code:'curl -k -X GET -u {splunk-id}:{password} --url "https://localhost:8089/services/bcg/echo?myGetArg=myvalue"',language:"language-bash",lines:""}),(0,u.jsx)(l.default,{step:"19",code:'curl -k -X POST -u {splunk-id}:{password} --url https://localhost:8089/services/bcg/echo -d "myPostArg=myvalue"',language:"language-bash",lines:""}),(0,u.jsx)(l.default,{step:"21",code:"nano bin/bcgEndpoints.py",language:"language-bash",lines:""}),(0,u.jsx)(l.default,{step:"22",code:"\n    def handle(self, in_bytes):\n        request = json.loads(in_bytes)\n\n        method = request['method'].lower()\n        if method == \"post\":\n            data = request['form']\n        elif method == \"get\":\n            data = request['query']\n\n        payload = json.dumps(request)",language:"language-python",lines:"5-9"}),(0,u.jsx)(l.default,{step:"23",code:"\n        elif method == \"get\":\n            data = request['query']\n\n        payload = {}\n        for key,val in data:\n            payload[key] = val\n        \n        payload = json.dumps(request)",language:"language-python",lines:"5-7"}),(0,u.jsx)(l.default,{step:"24",code:"\n        for key,val in data:\n            payload[key] = val\n        \n        #payload = json.dumps(request)\n        return {\n            'payload': payload,\n            'status': 200,\n            'headers': { 'Content-Type':'application/json' }\n        }",language:"language-python",lines:"5,8-9"}),(0,u.jsx)(l.default,{step:"26",code:'curl -k -X GET -u {splunk-id}:{password} --url "https://localhost:8089/services/bcg/echo?myGetArg=myvalue"',language:"language-bash",lines:""}),(0,u.jsx)(l.default,{step:"28",code:'curl -k -X POST -u {splunk-id}:{password} --url https://localhost:8089/services/bcg/echo -d "myPostArg=myvalue"',language:"language-bash",lines:""}),(0,u.jsx)(l.default,{step:"30",code:'curl -k -X GET -u {splunk-id}:{password} --url https://localhost:8089/services/bcg/echo -d "myGetArg=myvalue" -i',language:"language-bash",lines:""})]})}},4600:(e,n,s)=>{s.r(n),s.d(n,{default:()=>i});var a=s(5043),l=s(1045),t=s(9336),o=s(683),u=s(2999),d=s.n(u),c=(s(3817),s(6149),s(8443),s(1758),s(8862),s(579));const i=function(e){let{step:n,code:s,language:u,lines:i}=e;return(0,a.useEffect)((()=>{d().highlightAll()}),[]),(0,c.jsxs)("div",{children:[(0,c.jsx)(t.A,{}),(0,c.jsxs)(o.A,{direction:"row",spacing:5,sx:{margin:3},children:[(0,c.jsx)(l.A,{sx:{margin:2},children:n}),(0,c.jsx)("pre",{className:"line-numbers","data-line":i,style:{width:"80%"},children:(0,c.jsx)("code",{className:u,children:s})})]})]})}}}]);
//# sourceMappingURL=775.19ff465a.chunk.js.map