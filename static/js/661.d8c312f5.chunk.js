"use strict";(self.webpackChunkedu_core_dev=self.webpackChunkedu_core_dev||[]).push([[372,661],{4661:(e,s,n)=>{n.r(s),n.d(s,{default:()=>o});var t=n(8372),a=n(579);const o=function(){return(0,a.jsxs)("div",{style:{margin:50},children:[(0,a.jsx)(t.default,{step:"4",language:"python",code:"from splunk.persistconn.application import PersistentServerConnectionApplication\nimport json\n\nclass Echo(PersistentServerConnectionApplication):\n    def __init__(self, _command_line, _command_arg):\n        super(PersistentServerConnectionApplication, self).__init__()\n\n    def handle(self, in_bytes):\n        request = json.loads(in_bytes)    \n        payload = json.dumps(request)\n        return {\n            'payload': payload,\n            'status': 200\n        }"}),(0,a.jsx)(t.default,{step:"10",language:"properties",code:"[script:bcg_echo]\nmatch = /bcg/echo\nscript = bcgEndpoints.py\nscripttype = persist\nhandler = bcgEndpoints.Echo\npython.version = python3"}),(0,a.jsx)(t.default,{step:"16",language:"properties",code:"[expose:bcg_echo]\nmethods = GET,POST\npattern = /bcg/echo"}),(0,a.jsx)(t.default,{step:"18",language:"bash",code:"/opt/splunk/bin/splunk restart"}),(0,a.jsx)(t.default,{step:"19",language:"bash",code:"curl -k -X GET -u {splunk-id}:{password} \\\n--url https://localhost:8089/services/bcg/echo?myGetArg=myvalue | jq '.'"}),(0,a.jsx)(t.default,{step:"21",language:"bash",code:"curl -k -X POST -u {splunk-id}:{password} \\\n--url https://localhost:8089/services/bcg/echo -d \"myPostArg=myvalue\" | jq '.'"}),(0,a.jsx)(t.default,{step:"24",language:"python",code:"        method = request['method'].lower()\n        if method == \"post\":\n            data = request['form']\n        elif method == \"get\":\n            data = request['query']"}),(0,a.jsx)(t.default,{step:"25",language:"python",code:"        payload = {}\n        for key,val in data:\n            payload[key] = val"}),(0,a.jsx)(t.default,{step:"26",language:"python",code:"        #payload = json.dumps(request)\n        return {\n            'payload': payload,\n            'status': 200,\n            'headers': { 'Content-Type':'application/json' }\n        }"}),(0,a.jsx)(t.default,{step:"28",language:"bash",code:"curl -k -X GET -u {splunk-id}:{password} \\\n--url https://localhost:8089/services/bcg/echo?myGetArg=myvalue | jq '.'"}),(0,a.jsx)(t.default,{step:"30",language:"bash",code:"curl -k -X POST -u {splunk-id}:{password} \\\n--url https://localhost:8089/services/bcg/echo -d \"myPostArg=myvalue\" | jq '.'"}),(0,a.jsx)(t.default,{step:"32",language:"bash",code:'curl -k -X GET -u {splunk-id}:{password} \\\n--url https://localhost:8089/services/bcg/echo -d "myGetArg=myvalue" -i'})]})}},8372:(e,s,n)=>{n.r(s),n.d(s,{default:()=>p});var t=n(5043),a=n(1045),o=n(9336),l=n(683),r=n(2999),c=n.n(r),d=(n(3817),n(6149),n(3636),n(337),n(3994),n(3839),n(4194),n(8496),n(7337),n(4608),n(579));const p=function(e){let{step:s,code:n,language:r}=e;return(0,t.useEffect)((()=>{c().highlightAll()}),[]),(0,d.jsxs)("div",{children:[(0,d.jsx)(o.A,{}),(0,d.jsxs)(l.A,{direction:"row",spacing:5,sx:{margin:3},children:[(0,d.jsx)(a.A,{sx:{bgcolor:"#f56a00",margin:2},children:s}),(0,d.jsx)("pre",{style:{width:"90%"},children:(0,d.jsx)("code",{className:`language-${r}`,children:n})})]})]})}},4608:()=>{}}]);
//# sourceMappingURL=661.d8c312f5.chunk.js.map