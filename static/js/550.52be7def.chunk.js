"use strict";(self.webpackChunkedu_core_dev=self.webpackChunkedu_core_dev||[]).push([[550,842],{9892:(e,n,s)=>{s.r(n),s.d(n,{default:()=>o});var a=s(5043),t=s(4600),l=s(2999),i=s.n(l),u=s(579);const o=function(){return(0,a.useEffect)((()=>{i().highlightAll()}),[]),(0,u.jsxs)("div",{style:{margin:50},children:[(0,u.jsx)(t.default,{step:"2",code:"pip install -t /tmp splunk-sdk\ncp -r /tmp/splunklib /opt/splunk/etc/apps/buttercup/bin",language:"language-bash",lines:""}),(0,u.jsx)(t.default,{step:"3",code:"ll /opt/splunk/etc/apps/buttercup/bin\nll /opt/splunk/etc/apps/buttercup/bin/splunklib/searchcommands",language:"language-bash",lines:""}),(0,u.jsx)(t.default,{step:"4",code:"cd /opt/splunk/etc/apps/buttercup",language:"language-bash",lines:""}),(0,u.jsx)(t.default,{step:"5",code:"nano bin/bcgReviewScores.py",language:"language-xml",lines:""}),(0,u.jsx)(t.default,{step:"6",code:"import sys\n\nfrom splunklib.searchcommands import dispatch, StreamingCommand, Configuration\n\n@Configuration()\nclass GetReviewScoresCommand(StreamingCommand):\n    def stream(self, events):\n        for event in events:\n            yield event\n\ndispatch(GetReviewScoresCommand, sys.argv, sys.stdin, sys.stdout, __name__)",language:"language-python",lines:""}),(0,u.jsx)(t.default,{step:"7",code:"import sys\nfrom random import randint\n\n# for lab brevity, just return a random number from 1 to 5!\ndef getAvgReviewScore(productId):\n    return str(randint(1,5))\n\nfrom splunklib.searchcommands import dispatch, StreamingCommand, Configuration",language:"language-python",lines:"2-6"}),(0,u.jsx)(t.default,{step:"8",code:'class GetReviewScoresCommand(StreamingCommand):\n    def stream(self, events):\n        for event in events:\n            productId = event["productId"]\n            event["review"] = getAvgReviewScore(productId)\n            yield event',language:"language-python",lines:"4-5"}),(0,u.jsx)(t.default,{step:"12",code:"nano local/commands.conf",language:"language-bash",lines:""}),(0,u.jsx)(t.default,{step:"13",code:"[getreviews]\nchunked = true\nfilename = bcgReviewScores.py",language:"language-solution-file",lines:""}),(0,u.jsx)(t.default,{step:"17",code:"nano local/searchbnf.conf",language:"language-bash",lines:""}),(0,u.jsx)(t.default,{step:"18",code:"[getreviews-command]\nsyntax = getreviews\nshortdesc = get online game reviews\nusage = public",language:"language-solution-file",lines:""}),(0,u.jsx)(t.default,{step:"20",code:"/opt/splunk/bin/splunk restart",language:"language-bash",lines:""})]})}},4600:(e,n,s)=>{s.r(n),s.d(n,{default:()=>d});var a=s(5043),t=s(1045),l=s(9336),i=s(683),u=s(2999),o=s.n(u),r=(s(3817),s(6149),s(8443),s(1758),s(8862),s(579));const d=function(e){let{step:n,code:s,language:u,lines:d}=e;return(0,a.useEffect)((()=>{o().highlightAll()}),[]),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.A,{}),(0,r.jsxs)(i.A,{direction:"row",spacing:5,sx:{margin:3},children:[(0,r.jsx)(t.A,{sx:{margin:2},children:n}),(0,r.jsx)("pre",{className:"line-numbers","data-line":d,style:{width:"80%"},children:(0,r.jsx)("code",{className:u,children:s})})]})]})}}}]);
//# sourceMappingURL=550.52be7def.chunk.js.map