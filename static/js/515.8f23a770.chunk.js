"use strict";(self.webpackChunkedu_core_dev=self.webpackChunkedu_core_dev||[]).push([[372,515],{2896:(e,s,t)=>{t.r(s),t.d(s,{default:()=>r});var n=t(8372),a=t(579);const r=function(){return(0,a.jsxs)("div",{style:{margin:50},children:[(0,a.jsx)(n.default,{step:"2",language:"bash",code:"cd ~/\npip install -t /tmp splunk-sdk\ncp -r /tmp/splunklib /opt/splunk/etc/apps/buttercup/bin"}),(0,a.jsx)(n.default,{step:"6",language:"python",code:"import sys\n\nfrom splunklib.searchcommands import dispatch, StreamingCommand, Configuration\n\n@Configuration()\nclass GetReviewScoresCommand(StreamingCommand):\n    def stream(self, events):\n        for event in events:\n            yield event\n\ndispatch(GetReviewScoresCommand, sys.argv, sys.stdin, sys.stdout, __name__)"}),(0,a.jsx)(n.default,{step:"7",language:"python",code:"from random import randint\n\n# for lab brevity, just return a random number from 1 to 5!\ndef getAvgReviewScore(productId):\n    return str(randint(1,5))"}),(0,a.jsx)(n.default,{step:"8",language:"python",code:'            productId = event["productId"]\n            event["review"] = getAvgReviewScore(productId)'}),(0,a.jsx)(n.default,{step:"14",language:"properties",code:"[getreviews]\nchunked = true\nfilename = bcgReviewScores.py"}),(0,a.jsx)(n.default,{step:"20",language:"properties",code:"[getreviews-command]\nsyntax = getreviews\nshortdesc = get online game reviews\nusage = public"}),(0,a.jsx)(n.default,{step:"22",language:"bash",code:"/opt/splunk/bin/splunk restart"}),(0,a.jsx)(n.default,{step:"24",language:"splunk-spl",code:"| getrev"}),(0,a.jsx)(n.default,{step:"25",language:"splunk-spl",code:'tag=bcg_sales\n| stats sum(price) as "Total Sales" by productName, productId\n| getreviews'}),(0,a.jsx)(n.default,{step:"29",language:"splunk-spl",code:'tag=bcg_sales\n| eval web=if(eventtype="bcg_web_sales",price,null())\n| eval mtx=if(eventtype="bcg_mtx_sales",price,null())\n| stats sum(web) as "Web", sum(mtx) as "Micro", sum(price) as "Total" by productName, productId\n| getreviews\n| rename productId as "ID", productName as "Name", review as "Avg Review"'})]})}},8372:(e,s,t)=>{t.r(s),t.d(s,{default:()=>c});var n=t(5043),a=t(1045),r=t(9336),d=t(683),l=t(2999),u=t.n(l),o=(t(3817),t(6149),t(3636),t(337),t(3994),t(3839),t(4194),t(8496),t(7337),t(4608),t(579));const c=function(e){let{step:s,code:t,language:l}=e;return(0,n.useEffect)((()=>{u().highlightAll()}),[]),(0,o.jsxs)("div",{children:[(0,o.jsx)(r.A,{}),(0,o.jsxs)(d.A,{direction:"row",spacing:5,sx:{margin:3},children:[(0,o.jsx)(a.A,{sx:{bgcolor:"#f56a00",margin:2},children:s}),(0,o.jsx)("pre",{style:{width:"90%"},children:(0,o.jsx)("code",{className:`language-${l}`,children:t})})]})]})}},4608:()=>{}}]);
//# sourceMappingURL=515.8f23a770.chunk.js.map