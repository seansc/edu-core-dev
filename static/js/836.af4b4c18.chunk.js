"use strict";(self.webpackChunkedu_core_dev=self.webpackChunkedu_core_dev||[]).push([[0,836],{4836:(e,a,n)=>{n.r(a),n.d(a,{default:()=>l});var s=n(1e3),t=n(579);const l=function(){return(0,t.jsxs)("div",{style:{margin:50},children:[(0,t.jsx)(s.default,{step:"2",code:"pip install -t /tmp splunk-sdk\ncp -r /tmp/splunklib /opt/splunk/etc/apps/buttercup/bin",language:"language-bash"}),(0,t.jsx)(s.default,{step:"3",code:"ll /opt/splunk/etc/apps/buttercup/bin\nll /opt/splunk/etc/apps/buttercup/bin/splunklib/searchcommands",language:"language-bash"}),(0,t.jsx)(s.default,{step:"4",code:"cd /opt/splunk/etc/apps/buttercup",language:"language-bash"}),(0,t.jsx)(s.default,{step:"5",code:"nano bin/bcgReviewScores.py",language:"language-xml"}),(0,t.jsx)(s.default,{step:"6",code:"import sys\n\nfrom splunklib.searchcommands import dispatch, StreamingCommand, Configuration\n\n@Configuration()\nclass GetReviewScoresCommand(StreamingCommand):\n    def stream(self, events):\n        for event in events:\n            yield event\n\ndispatch(GetReviewScoresCommand, sys.argv, sys.stdin, sys.stdout, __name__)",language:"language-python"}),(0,t.jsx)(s.default,{step:"7",code:"from random import randint\n\n# for lab brevity, just return a random number from 1 to 5!\ndef getAvgReviewScore(productId):\n    return str(randint(1,5))",language:"language-python"}),(0,t.jsx)(s.default,{step:"8",code:'\n            productId = event["productId"]\n            event["review"] = getAvgReviewScore(productId)',language:"language-python"}),(0,t.jsx)(s.default,{step:"12",code:"nano local/commands.conf",language:"language-bash"}),(0,t.jsx)(s.default,{step:"13",code:"[getreviews]\nchunked = true\nfilename = bcgReviewScores.py",language:"language-properties"}),(0,t.jsx)(s.default,{step:"17",code:"nano local/searchbnf.conf",language:"language-bash"}),(0,t.jsx)(s.default,{step:"18",code:"[getreviews-command]\nsyntax = getreviews\nshortdesc = get online game reviews\nusage = public",language:"language-properties"}),(0,t.jsx)(s.default,{step:"20",code:"/opt/splunk/bin/splunk restart",language:"language-bash"}),(0,t.jsx)(s.default,{step:"22",code:"| getrev",language:"language-splunk-spl"}),(0,t.jsx)(s.default,{step:"23",code:'tag=bcg_sales\n| stats sum(price) as "Total Sales" by productName, productId\n| getreviews',language:"language-splunk-spl"}),(0,t.jsx)(s.default,{step:"27",code:'tag=bcg_sales\n| eval web=if(eventtype="bcg_web_sales",price,null())\n| eval mtx=if(eventtype="bcg_mtx_sales",price,null())\n| stats sum(web) as "Web", sum(mtx) as "Micro", sum(price) as "Total" by productName, productId\n| getreviews\n| rename productId as "ID", productName as "Name", review as "Avg Review"',language:"language-splunk-spl"})]})}},1e3:(e,a,n)=>{n.r(a),n.d(a,{default:()=>d});var s=n(5043),t=n(1045),l=n(9336),u=n(683),g=n(2999),r=n.n(g),c=(n(3817),n(6149),n(3636),n(3839),n(4194),n(8496),n(7337),n(4608),n(579));const d=function(e){let{step:a,code:n,language:g}=e;return(0,s.useEffect)((()=>{r().highlightAll()}),[]),(0,c.jsxs)("div",{children:[(0,c.jsx)(l.A,{}),(0,c.jsxs)(u.A,{direction:"row",spacing:5,sx:{margin:3},children:[(0,c.jsx)(t.A,{sx:{bgcolor:"#f56a00",margin:2},children:a}),(0,c.jsx)("pre",{style:{width:"80%"},children:(0,c.jsx)("code",{className:g,children:n})})]})]})}},4608:()=>{}}]);
//# sourceMappingURL=836.af4b4c18.chunk.js.map