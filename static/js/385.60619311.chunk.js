"use strict";(self.webpackChunkedu_core_dev=self.webpackChunkedu_core_dev||[]).push([[0,385],{1385:(e,s,n)=>{n.r(s),n.d(s,{default:()=>o});var a=n(1e3),t=n(579);const o=function(){return(0,t.jsxs)("div",{style:{margin:50},children:[(0,t.jsx)(a.default,{step:"2",language:"bash",code:"cd /opt/splunk/etc/apps/buttercup"}),(0,t.jsx)(a.default,{step:"3",language:"bash",code:"nano bin/bcgEndpoints.py"}),(0,t.jsx)(a.default,{step:"4",language:"python",code:"from splunk.persistconn.application import PersistentServerConnectionApplication\nimport json\n\nclass Echo(PersistentServerConnectionApplication):\n    def __init__(self, _command_line, _command_arg):\n        super(PersistentServerConnectionApplication, self).__init__()\n\n    def handle(self, in_bytes):\n        request = json.loads(in_bytes)    \n        payload = json.dumps(request)\n        return {\n            'payload': payload,\n            'status': 200\n        }"}),(0,t.jsx)(a.default,{step:"8",language:"bash",code:"nano local/restmap.conf"}),(0,t.jsx)(a.default,{step:"9",language:"properties",code:"[script:bcg_echo]\nmatch = /bcg/echo\nscript = bcgEndpoints.py\nscripttype = persist\nhandler = bcgEndpoints.Echo\npython.version = python3"}),(0,t.jsx)(a.default,{step:"13",language:"bash",code:"nano local/web.conf"}),(0,t.jsx)(a.default,{step:"14",language:"properties",code:"[expose:bcg_echo]\nmethods = GET,POST\npattern = /bcg/echo"}),(0,t.jsx)(a.default,{step:"16",language:"bash",code:"/opt/splunk/bin/splunk restart"}),(0,t.jsx)(a.default,{step:"17",language:"bash",code:'curl -k -X GET -u {splunk-id}:{password} \\\n--url "https://localhost:8089/services/bcg/echo?myGetArg=myvalue"'}),(0,t.jsx)(a.default,{step:"19",language:"bash",code:'curl -k -X POST -u {splunk-id}:{password} \\\n--url https://localhost:8089/services/bcg/echo -d "myPostArg=myvalue"'}),(0,t.jsx)(a.default,{step:"21",language:"bash",code:"nano bin/bcgEndpoints.py"}),(0,t.jsx)(a.default,{step:"22",language:"python",code:"\n        method = request['method'].lower()\n        if method == \"post\":\n            data = request['form']\n        elif method == \"get\":\n            data = request['query']"}),(0,t.jsx)(a.default,{step:"23",language:"python",code:"\n        payload = {}\n        for key,val in data:\n            payload[key] = val"}),(0,t.jsx)(a.default,{step:"24",language:"python",code:"\n        #payload = json.dumps(request)\n        return {\n            'payload': payload,\n            'status': 200,\n            'headers': { 'Content-Type':'application/json' }\n        }"}),(0,t.jsx)(a.default,{step:"26",language:"bash",code:'curl -k -X GET -u {splunk-id}:{password} \\\n--url "https://localhost:8089/services/bcg/echo?myGetArg=myvalue"'}),(0,t.jsx)(a.default,{step:"28",language:"bash",code:'curl -k -X POST -u {splunk-id}:{password} \\\n--url https://localhost:8089/services/bcg/echo -d "myPostArg=myvalue"'}),(0,t.jsx)(a.default,{step:"30",language:"bash",code:'curl -k -X GET -u {splunk-id}:{password} \\\n--url https://localhost:8089/services/bcg/echo -d "myGetArg=myvalue" -i'})]})}},1e3:(e,s,n)=>{n.r(s),n.d(s,{default:()=>r});var a=n(5043),t=n(1045),o=n(9336),l=n(683),c=n(2999),d=n.n(c),p=(n(3817),n(6149),n(3636),n(337),n(3994),n(3839),n(4194),n(8496),n(7337),n(4608),n(579));const r=function(e){let{step:s,code:n,language:c}=e;return(0,a.useEffect)((()=>{d().highlightAll()}),[]),(0,p.jsxs)("div",{children:[(0,p.jsx)(o.A,{}),(0,p.jsxs)(l.A,{direction:"row",spacing:5,sx:{margin:3},children:[(0,p.jsx)(t.A,{sx:{bgcolor:"#f56a00",margin:2},children:s}),(0,p.jsx)("pre",{style:{width:"80%"},children:(0,p.jsx)("code",{className:`language-${c}`,children:n})})]})]})}},4608:()=>{}}]);
//# sourceMappingURL=385.60619311.chunk.js.map